## 概要
AIとの対話を通じてインタラクティブにコードを生成・修正・実行できる統合機能の実装

## 背景
ユーザーが自然言語でリクエストし、AIがコードを生成・実行し、その結果を確認しながら段階的に改善していく対話型の開発体験を提供する。

## 機能要件

### インタラクティブモード
- リアルタイムのコード生成と表示
- 生成コードの即座の実行
- 実行結果のフィードバック表示
- エラー時の自動修正提案
- 段階的な改善プロセス

### コード実行環境
- サンドボックス環境での安全な実行
- 複数言語のサポート（Node.js, Python）
- 実行時間制限とリソース制限
- 標準出力/エラー出力のキャプチャ
- プロセス管理（開始/停止/再起動）

### 対話フロー
1. ユーザーが要件を自然言語で説明
2. AIがコードを生成して提示
3. ユーザーの確認/修正要求
4. コードの実行と結果表示
5. 結果に基づく改善提案
6. 反復的な改善サイクル

## 技術要件

### 実行環境
- Docker/コンテナベースのサンドボックス（オプション）
- Node.js VM モジュールの活用
- Python subprocess管理
- ファイルシステムの隔離

### セッション管理
- コード履歴の保存
- 実行結果の記録
- ロールバック機能
- セッション間での継続性

### UI/UX要件
- コードハイライト表示
- 差分表示（変更箇所の強調）
- 実行状態のリアルタイム表示
- プログレスインジケーター

## 実装タスク
- [ ] インタラクティブモードの基本実装
- [ ] コード実行エンジンの構築
- [ ] サンドボックス環境の設定
- [ ] セッション管理システム
- [ ] 実行結果パーサーの実装
- [ ] エラーハンドリングと修正提案機能
- [ ] UI/UX改善
- [ ] セキュリティ対策の実装

## ユースケース例

### 例1: Webサーバー作成
```
User: Express.jsで簡単なAPIサーバーを作って
AI: [コード生成]
User: 実行して
AI: [実行結果表示] ポート3000で起動しました
User: /users エンドポイントを追加して
AI: [コード修正・実行]
```

### 例2: データ処理スクリプト
```
User: CSVファイルを読み込んで集計するPythonスクリプトを作成
AI: [コード生成]
User: サンプルデータで実行
AI: [実行結果とグラフ表示]
User: 月別の集計も追加
AI: [コード更新・再実行]
```

## セキュリティ考慮事項
- ファイルシステムアクセスの制限
- ネットワークアクセスの制御
- CPU/メモリ使用量の制限
- 実行時間のタイムアウト
- 危険なコードパターンの検出

## 受け入れ基準
- [ ] コード生成から実行まで5秒以内
- [ ] エラー時の自動修正提案が機能
- [ ] 実行結果が正確に表示される
- [ ] セッション間でコンテキストが保持される
- [ ] セキュリティ制限が適切に機能

## パフォーマンス目標
- コード生成: 2秒以内
- 実行開始: 1秒以内
- 結果表示: リアルタイム
- エラー修正提案: 3秒以内

## 関連Issue
- #4, #5 のコマンド実行機能を活用
- #6 のファイル操作と連携
- #7 のモデル非依存設計を適用
- #9 のテンプレートと統合

## ラベル
enhancement, interactive, code-execution, developer-experience

## 概要
異なるAIモデル間でも一貫して動作する、汎用的なプロンプト設計とレスポンス解析フレームワークの構築

## 背景
特定のモデルに依存しない設計により、新しいモデルの追加や既存モデルの更新に柔軟に対応できるようにする。モデル固有の実装は最小限にとどめ、共通インターフェースで動作させる。

## 要件

### 機能要件
- モデル非依存の統一プロンプトフォーマット設計
- レスポンス解析の抽象化レイヤー
- モデルごとの特性を吸収するアダプターパターン実装
- プロファイル機能でのベンダー/モデル切り替え
- /コマンドによる動的設定変更

### 技術要件
- 抽象プロバイダークラスの設計
- モデル特性を定義する設定ファイル（JSON/YAML）
- プロンプトテンプレートシステム
- レスポンスパーサーの抽象化
- プラグイン形式でのモデル追加対応

## 最小構成での対応モデル
1. **gpt-5 (OpenAI)**
   - 最新モデルとしての挙動確認
   - OpenAI API v2対応
   
2. **gpt-oss-120b (OpenRouter経由)**
   - オープンソースモデルのサポート
   - OpenRouter API統合

## 設計方針

### プロンプト設計
```yaml
base_prompt:
  system: 標準的な指示
  format_hints:
    command: "実行コマンド: [COMMAND]...[/COMMAND]"
    code: "コード実装: [CODE language='..']...[/CODE]"
  
model_overrides:
  gpt-5:
    additional_hints: ...
  gpt-oss-120b:
    format_adjustments: ...
```

### レスポンス解析
- XMLタグベースの構造化出力を基本とする
- フォールバックとしてマークダウン形式も解析
- モデル固有のパターンは設定ファイルで定義

## 実装タスク
- [ ] 抽象プロバイダークラスの設計と実装
- [ ] モデル設定ファイルフォーマットの定義
- [ ] 統一プロンプトテンプレートの作成
- [ ] レスポンスパーサーの抽象化実装
- [ ] プロファイル管理システムの強化
- [ ] /コマンドによる設定変更機能
- [ ] モデル追加ガイドラインの作成

## 受け入れ基準
- [ ] gpt-5とgpt-oss-120bの両方で基本機能が動作
- [ ] プロファイル切り替えで即座にモデル変更可能
- [ ] /コマンドで実行中に設定変更できる
- [ ] 新モデル追加が設定ファイルの追加だけで可能
- [ ] モデル間で90%以上のコマンド実行成功率

## 関連Issue
- #4 の実装を汎用化
- #5, #6 がモデル非依存で動作することを保証

## ラベル
enhancement, architecture, core-feature, model-agnostic
